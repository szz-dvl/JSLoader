<div>	
	<div>
		<dd-title val="'appdata_active'" text="'Storage'"></dd-title>
		
		<div ng-show="appdata_active" style="width: 100%;">

			<table style="display: table;width: 100%;" ng-if="domains.length || groups.length">
				<thead>
					<th></th>
					<th style="text-align: center;"> Name </th>
					<th style="text-align: center;"> Scripts </th>
					<th style="text-align: center;"> Resources / Sites </th>
					<th style="text-align: center;"> Actions </th>
				</thead>
				<tbody style="display: table-row-group;">
					<tr ng-repeat="domain in domains track by domain.name">
						<td>
							<h2 ng-if="!$index" style="margin: 0;"> Domains: </h2>
						</td>
						<td style="text-align: center;">
							{{ domain.name }}
						</td>
						<td style="text-align: center;">
							{{ domain.scripts }}
						</td>
						<td style="text-align: center;">
							{{ domain.sites }}
						</td>
						<td>
							<div style="text-align: center;">
								
								<button class="browser-style"
									ng-click="goToDomain(domain.name)"
									style="z-index:999;"> Go
								</button>
								<button class="browser-style"
									ng-click="removeItem(domain.name, 'domain')"
									style="z-index:999;"> Remove
								</button>
								<button ng-if="data_origin.writeable && !data_origin.reconnecting"
									class="browser-style"
									ng-click="pushItem(domain.name, 'domain')"
									style="z-index:999;"> Push to DB <!-- writting permissions -->
								</button>
								
							</div>
						</td>
					</tr><br>
					<tr ng-repeat="group in groups track by group.name">
						<td>
							<h2 ng-if="!$index" style="margin: 0;"> Groups: </h2>
						</td>
						<td style="text-align: center;">
							{{ group.name }}
						</td>
						<td style="text-align: center;">
							{{ group.scripts }}
						</td>
						<td style="text-align: center;">
							{{ group.sites }}
						</td>
						<td style="text-align: center;">
							<div style="text-align: center;">
								
								<button class="browser-style"
									ng-click="removeItem(group.name, 'group')"
									style="z-index:999;"> Remove
								</button>
								<button ng-if="data_origin.writeable && !data_origin.reconnecting"
									class="browser-style"
									ng-click="pushItem(group.name, 'group')"
									style="z-index:999;"> Push to DB <!-- writting permissions -->
								</button>
								
							</div>
						</td>
					</tr>
				</tbody>
			</table>
			<no-info ng-if="!domains.length && !groups.length"></no-info>
			<div style="text-align: center;margin-top: 25px;">
				<label for="import_data"
					<bdi> Import Data </bdi>
					<input
						class="browser-style"
						id="import_data"
						ng-on-change="importData()"
						type="file"/>
				</label>
				<button class="browser-style"
					ng-if="domains.length || groups.length"
					ng-click="exportData()"
					style="z-index:999;"> Export Data
				</button>
				<button class="browser-style"
					ng-if="data_origin.writeable && (domains.length + groups.length > 1) && !data_origin.reconnecting"
					ng-disable="data-origin.reconnecting"
					ng-click="pushItem()"
					style="z-index:999;"> Push all to DB
				</button>
				<button class="browser-style"
					ng-if="domains.length || groups.length"
					ng-click="clearStoredData()"
					style="z-index:999;"> Clear Storage
				</button>
				<button class="browser-style"
					ng-click="editUserDefs()"
					style="z-index:999;"> Edit User Defs
				</button>
			</div>
			
		</div>
	</div>
</div>
