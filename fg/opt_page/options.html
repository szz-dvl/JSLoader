<!DOCTYPE html>

<html>
  <head ng-controller="themeController as theme">
	
		<meta charset="utf-8">
		<link rel="stylesheet" href="options.css"/>
		<!-- <link rel="stylesheet" href="../deps/highlightjs/default.min.css"> -->
		<link rel="stylesheet" href="chrome://browser/content/extension.css">
		
		<link ng-if="!current.knownToHl" rel="stylesheet" ng-href="../deps/highlightjs/default.min.css">
		<link ng-if="current.knownToHl" rel="stylesheet" ng-href="http://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/{{current.knownToHl}}.min.css">

		<!-- <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-beta/css/bootstrap.min.css" integrity="sha384-/Y6pD6FV/Vv2HJnA6t+vslU6fwYXjCFtcEpHbNJ0lyAFsXTsjBbfaDjzALeQsN6M" crossorigin="anonymous"> -->
		<link rel="stylesheet" href="../deps/angular-highlightjs-searchtext/build/release/angular-highlightjs-searchtext.min.css">
		
		<script src="../deps/jquery.min.js"></script>
		<script src="../deps/angular.min.js"></script>
		<script src="../deps/highlightjs/highlight.min.js"></script>
		<script src="../deps/angular-highlightjs-searchtext/build/release/angular-highlightjs-searchtext.min.js"></script>
		<script src="../partials/partials.js"></script>
		
		<script src="../../utils/jsloader-utils.js"></script>
		
  </head>
	
  <body>

	<div id="content" class="panel-section">

	  <div ng-controller="editorController as editor" class="panel-section" ng-cloak>
		
		<div class="panel-section" >
		  <div id="settings_head" class="panel-section panel-section-header">
			<div class="text-section-header"> {{title}} </div>
		  </div>
		</div><br>
		
		<div id="form-container" class="panel-section">
		  
		  <form ng-submit="updtOpts()">
			
			<label ng-repeat="opt in opts" class="input">

			  <span ng-if="['text'].includes(opt.type)">{{opt.text}}: </span>
			  <input id="{{opt.id}}" type="{{opt.type}}" ng-model="opt.value" ng-change="opt.change()">
			  <span ng-if="['checkbox'].includes(opt.type)" >{{opt.text}}</span>
			  
			</label><br>
			
			<label class="input">

			  <span> Editor theme: </span>
			  <select ng-model="page.themes.current" ng-options="theme.name group by theme.title for theme in page.themes.list" ng-change="page.themes.themeChange()"></select><br><br>

			</label><br><br>
			
			<input type="submit" value="Save Options" class="browser-style jsload-button">
			
		  </form>
		  
		</div>
		
	  </div> <!-- editorController -->
	  
	  <div ng-controller="domainController" class="panel-section" ng-cloak>

		<div class="panel-section" >
		  <div id="scripts_head" class="panel-section panel-section-header">
			<div class="text-section-header">{{title}}</div>
		  </div>
		</div><br>
		
		<div class="panel-section" ng-repeat="domain in domains" ng-if="!domain.isEmpty()">
		  
		  <h4> {{domain.name}} </h4>
		  
		  <script-list ng-if="domain.scripts.length" list="domain.scripts" parent="domain" editor="page.bg.editor_mgr.openEditorInstanceForScript" port="port" shown="shown"></script-list>
		  <script-list ng-repeat="site in domain.sites" ng-if="site.scripts.length" list="site.scripts" parent="site" editor="page.bg.editor_mgr.openEditorInstanceForScript" port="port" shown="shown"></script-list>

		</div>
		
	  </div> <!-- scriptsController -->
	</div> <!-- content -->

	<script src="options.js"></script>
  </body>
</html>
